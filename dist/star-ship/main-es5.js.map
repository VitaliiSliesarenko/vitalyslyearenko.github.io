{"version":3,"sources":["webpack:///./src/app/ui/app-root/app.component.html","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.html","webpack:///./src/app/ui/html-renderer/html-renderer.component.html","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/_games/impossible-dino/cloud-shifter-component.ts","webpack:///./src/app/_games/impossible-dino/dino-jumper-component.ts","webpack:///./src/app/_games/impossible-dino/ground-shifter-component.ts","webpack:///./src/app/_games/impossible-dino/impossible-dino-data.ts","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/business/common/angle.ts","webpack:///./src/app/business/common/guid.ts","webpack:///./src/app/business/common/logger.ts","webpack:///./src/app/business/common/name-value-pair.ts","webpack:///./src/app/business/common/rect.ts","webpack:///./src/app/business/common/timer.ts","webpack:///./src/app/business/common/v-math.ts","webpack:///./src/app/business/common/vector2.ts","webpack:///./src/app/business/core/factory/component-factory.ts","webpack:///./src/app/business/core/factory/game-object-factory.ts","webpack:///./src/app/business/core/factory/transform-factory.ts","webpack:///./src/app/business/core/game-object-collection.ts","webpack:///./src/app/business/core/http/rest-client.ts","webpack:///./src/app/business/core/transform-calculate-system.ts","webpack:///./src/app/business/events/event-message.ts","webpack:///./src/app/business/game-components/core/animate-game-component/animate-game-component.ts","webpack:///./src/app/business/game-components/core/base/components-registry.ts","webpack:///./src/app/business/game-components/core/base/game-component.ts","webpack:///./src/app/business/game-components/core/html-renderer-game-component/game-object-render-info.ts","webpack:///./src/app/business/game-components/core/html-renderer-game-component/html-renderer-game-component.ts","webpack:///./src/app/business/game-components/user/reset-to-left.component.ts","webpack:///./src/app/business/game-components/user/rotate.component.ts","webpack:///./src/app/business/game-components/user/shift-right.component.ts","webpack:///./src/app/business/game-components/user/show-hide-game-object-component.ts","webpack:///./src/app/business/game-components/user/simple-move-game-component.ts","webpack:///./src/app/business/game-components/user/sparks.component.ts","webpack:///./src/app/business/game-components/user/test-one-component.ts","webpack:///./src/app/business/game-components/user/walker.component.ts","webpack:///./src/app/business/game-event-manager.ts","webpack:///./src/app/business/game-loader/component-builder.ts","webpack:///./src/app/business/game-loader/game-loader.ts","webpack:///./src/app/business/game-loader/hardcoded-game-data.ts","webpack:///./src/app/business/game-manager.ts","webpack:///./src/app/business/game-processor.ts","webpack:///./src/app/business/game-structure/game-data.ts","webpack:///./src/app/business/game-structure/game-object.ts","webpack:///./src/app/business/game-structure/game-scene.ts","webpack:///./src/app/business/game-structure/transform.ts","webpack:///./src/app/business/input/adapters/abstract-input-adapter.ts","webpack:///./src/app/business/input/adapters/web-browser-input-adapter.ts","webpack:///./src/app/business/input/dto/mouse-input-event.ts","webpack:///./src/app/business/input/input.ts","webpack:///./src/app/business/physics/collisions-processor.ts","webpack:///./src/app/business/screen/game-screen.ts","webpack:///./src/app/ui/app-root/app.component.less","webpack:///./src/app/ui/app-root/app.component.ts","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.less","webpack:///./src/app/ui/html-renderer/game-object/game-object.component.ts","webpack:///./src/app/ui/html-renderer/html-renderer.component.less","webpack:///./src/app/ui/html-renderer/html-renderer.component.ts","webpack:///./src/app/ui/html-renderer/html-renderer.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es5.js","sourcesContent":["module.exports = \"<div id=\\\"gameArea\\\" class=\\\"gameArea\\\" [ngStyle]=\\\"{'width': width, 'height': height}\\\">\\n\\t<app-html-renderer></app-html-renderer>\\n</div>\\n\\n<router-outlet></router-outlet>\\n\"","module.exports = \"<div class=\\\"game-object\\\"\\n\\t [ngClass]=\\\"gameObjectRenderInfo.className\\\"\\n\\t [ngStyle]=\\\"getStyle()\\\">{{gameObjectRenderInfo.text}}</div>\\n\"","module.exports = \"<app-game-object\\n\\t*ngFor=\\\"let renderInfo of gameObjectsRenderInfos; trackBy: id\\\"\\n\\t[gameObjectRenderInfo]=\\\"renderInfo\\\">\\n</app-game-object>\\n\"","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { GameComponent } from '../../business/game-components/core/base/game-component';\r\nimport { Vector2 } from '../../business/common/vector2';\r\nimport { Timer } from '../../business/common/timer';\r\nimport { GameScreen } from '../../business/screen/game-screen';\r\nimport { Expose } from 'class-transformer';\r\nimport { VMath } from '../../business/common/v-math';\r\n\r\nexport class CloudShifterComponent extends GameComponent {\r\n\tname: string = CloudShifterComponent.name;\r\n\r\n\t@Expose()\r\n\tspeed: number;\r\n\r\n\t@Expose()\r\n\tmargin: number;\r\n\r\n\t@Expose()\r\n\tskyHeight: number;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst position = this.gameObject.transform.localPosition;\r\n\t\tconst newPosition = new Vector2(position.x - this.speed * Timer.delta, position.y);\r\n\t\tconst cloudWidth = this.gameObject.transform.width;\r\n\t\tconst cloudHeight = this.gameObject.transform.height;\r\n\r\n\t\tif (newPosition.x <= (0 - cloudWidth / 2 - this.margin) ) {\r\n\t\t\t// todo random cloud x\r\n\t\t\tnewPosition.x = GameScreen.getDefaultScreen().width + cloudWidth / 2 + this.margin;\r\n\t\t\tnewPosition.y = VMath.randIntMaxIncluded(cloudHeight / 2, this.skyHeight);\r\n\t\t}\r\n\t\tthis.gameObject.transform.localPosition = newPosition;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../../business/game-components/core/base/game-component';\r\nimport { Expose } from 'class-transformer';\r\n\r\nclass A {\r\n\tcount: number;\r\n\tinstances: B;\r\n}\r\n\r\nclass B {\r\n\tnumber: number;\r\n\tlinkToA: A;\r\n}\r\n\r\nexport class DinoJumperComponent extends GameComponent {\r\n\tname: string = DinoJumperComponent.name;\r\n\r\n\t@Expose()\r\n\tspeed: number;\r\n\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst a = this.gameObject.transform;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n}\r\n","import { GameComponent } from '../../business/game-components/core/base/game-component';\r\nimport { Vector2 } from '../../business/common/vector2';\r\nimport { Timer } from '../../business/common/timer';\r\nimport { GameScreen } from '../../business/screen/game-screen';\r\nimport { Expose } from 'class-transformer';\r\nimport { VMath } from '../../business/common/v-math';\r\nimport { GameObject } from '../../business/game-structure/game-object';\r\nimport { GameObjectFactory } from '../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../business/core/factory/transform-factory';\r\nimport { ComponentFactory } from '../../business/core/factory/component-factory';\r\nimport { HtmlRendererGameComponent } from '../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../business/common/name-value-pair';\r\nimport { GameObjectCollection } from '../../business/core/game-object-collection';\r\n\r\nexport class GroundShifterComponent extends GameComponent {\r\n\tname: string = GroundShifterComponent.name;\r\n\r\n\t@Expose()\r\n\tspeed: number;\r\n\r\n\t@Expose()\r\n\tmargin: number;\r\n\r\n\tprivate groundWidth = 550;\r\n\r\n\tstart(): void {\r\n\t\tthis.createGround();\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst children = this.gameObject.children.slice();\r\n\t\tfor (let i = 0; i < children.length; i++) {\r\n\t\t\tthis.shiftGround(children[i]);\r\n\t\t}\r\n\r\n\t\tif (this.gameObject.children.length === 0){\r\n\t\t\tthis.createGroundGameObject(this.groundWidth / 2);\r\n\t\t}\r\n\t\twhile (this.gameObject.children[this.gameObject.children.length - 1].transform.toRect().right < GameScreen.getDefaultScreen().width) {\r\n\t\t\tthis.createGroundGameObject(this.gameObject.children[this.gameObject.children.length - 1].transform.localPosition.x + this.groundWidth);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tprivate createGround(): void {\r\n\t\tconst groundNumber = Math.ceil(GameScreen.getDefaultScreen().width / this.groundWidth);\r\n\t\tfor (let i = 0; i < groundNumber; i++) {\r\n\t\t\tthis.createGroundGameObject(this.groundWidth / 2 + this.groundWidth * i);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createGroundGameObject(x: number): GameObject {\r\n\t\treturn GameObjectFactory.createGameObject(\r\n\t\t\tthis.gameObject,\r\n\t\t\t'Ground',\r\n\t\t\tTransformFactory.createChildTransform(this.gameObject.transform, new Vector2(x, 0), 550, 8, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/_games/impossible-dino/img/ground.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t}\r\n\r\n\tprivate shiftGround(groundObject: GameObject): void {\r\n\t\tconst position = groundObject.transform.localPosition;\r\n\t\tconst newPosition = new Vector2(position.x - this.speed * Timer.delta, position.y);\r\n\t\tconst groundWidth = groundObject.transform.width;\r\n\r\n\t\tgroundObject.transform.localPosition = newPosition;\r\n\r\n\t\tif (newPosition.x <= (0 - groundWidth / 2) ) {\r\n\t\t\tGameObjectCollection.remove(groundObject);\r\n\t\t}\r\n\r\n\t}\r\n}\r\n","import { GameObject } from '../../business/game-structure/game-object';\r\nimport { GameObjectFactory } from '../../business/core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../business/core/factory/transform-factory';\r\nimport { Vector2 } from '../../business/common/vector2';\r\nimport { ComponentFactory } from '../../business/core/factory/component-factory';\r\nimport { HtmlRendererGameComponent } from '../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../business/common/name-value-pair';\r\nimport { CloudShifterComponent } from './cloud-shifter-component';\r\nimport { AnimateGameComponent } from '../../business/game-components/core/animate-game-component/animate-game-component';\r\nimport { GroundShifterComponent } from './ground-shifter-component';\r\nimport { DinoJumperComponent } from './dino-jumper-component';\r\n\r\nexport class ImpossibleDinoData {\r\n\tpublic static getData(): GameObject {\r\n\r\n\t\tconst rootGameObject = GameObjectFactory.createGameObject(\r\n\t\t\tnull,\r\n\t\t\t'root',\r\n\t\t\tTransformFactory.createTransform(new Vector2(0, 0), 0, 0, 0),\r\n\t\t\t[\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst cloud = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud',\r\n\t\t\tTransformFactory.createTransform(new Vector2(400, 170), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/_games/impossible-dino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', ''),\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst cloud2 = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud2',\r\n\t\t\tTransformFactory.createTransform(new Vector2(500, 150), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/_games/impossible-dino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t\tconst cloud3 = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Cloud3',\r\n\t\t\tTransformFactory.createTransform(new Vector2(700, 130), 46, 13, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/_games/impossible-dino/img/cloud.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(CloudShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t\tnew NameValuePair('skyHeight', 170)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t\tconst dino = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Dino',\r\n\t\t\tTransformFactory.createTransform(new Vector2(50, 250), 40, 43, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/_games/impossible-dino/img/dino-step-run.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', '')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(AnimateGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('slideWidth', 40),\r\n\t\t\t\t\tnew NameValuePair('slideHeight', 43),\r\n\t\t\t\t\tnew NameValuePair('slidesInARow', 2),\r\n\t\t\t\t\tnew NameValuePair('slidesCount', 2),\r\n\t\t\t\t\tnew NameValuePair('animationSpeed', 12)\r\n\t\t\t\t]),\r\n\t\t\t\tComponentFactory.createComponent(DinoJumperComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 75)\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst groundHolder = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'GroundHolder',\r\n\t\t\tTransformFactory.createTransform(new Vector2(0, 269), 8, 8, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(GroundShifterComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 200),\r\n\t\t\t\t\tnew NameValuePair('margin', 100),\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\treturn rootGameObject;\r\n\t}\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './ui/app-root/app.component';\nimport { GameObjectComponent } from './ui/html-renderer/game-object/game-object.component';\nimport { HtmlRendererComponent } from './ui/html-renderer/html-renderer.component';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n\tAppComponent,\n\tGameObjectComponent,\n\tHtmlRendererComponent\n  ],\n  imports: [\n\tBrowserModule,\n\tAppRoutingModule,\n\tHttpClientModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { VMath } from './v-math';\r\n\r\nexport class Angle {\r\n\tpublic static rand(from: number = 0, to: number = 360): number {\r\n\t\treturn VMath.randIntMaxIncluded(from, to);\r\n\t}\r\n\r\n\tconstructor(public value: number) {\r\n\t}\r\n\r\n\tpublic get normalized() {\r\n\t\treturn this.value - Math.floor(this.value / 360) * 360;\r\n\t}\r\n\r\n\tpublic rotateTo(toAngle: Angle, step: number): boolean {\r\n\t\tif (this.isEqualTo(toAngle)) {\r\n\t\t\tconsole.log('EQ');\r\n\t\t\tthis.value = toAngle.value;\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tlet destAngle = toAngle.normalized;\r\n\t\tlet fromAngle = this.normalized;\r\n\t\tif (destAngle < fromAngle) {\r\n\t\t\tdestAngle += 360;\r\n\t\t}\r\n\r\n\t\tconst deltaCWAngle = destAngle - fromAngle;\r\n\t\tif (deltaCWAngle <= 180) { // Move Clock Wise\r\n\t\t\t// console.log('CW');\r\n\t\t\tconst resAngle = new Angle(this.value + step).normalized;\r\n\t\t\tif (resAngle > destAngle) {\r\n\t\t\t\t// console.log(`CW-SET toAngle: ${JSON.stringify(toAngle)} this.value: ${this.value}`);\r\n\t\t\t\tthis.value = toAngle.normalized;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tthis.value += step;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// console.log('CCW');\r\n\t\tfromAngle += 360;\r\n\r\n\t\tconst res = new Angle(fromAngle - step);\r\n\t\tif (res.value < toAngle.normalized) {\r\n\t\t\t// console.log(`CCW-SET ${JSON.stringify(toAngle)} this.value: ${this.value}`);\r\n\t\t\tthis.value = toAngle.normalized;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tthis.value = res.normalized;\r\n\t\treturn false;\r\n\t}\r\n\r\n\r\n\tpublic isEqualTo(angle: Angle): boolean {\r\n\t\treturn Math.round(this.value * 100) === Math.round(angle.value * 100);\r\n\t}\r\n}\r\n","import * as uuid from 'uuid';\r\n\r\nexport class Guid {\r\n\tpublic static create(): string {\r\n\t\treturn uuid.v4();\r\n\t}\r\n}\r\n","export class Logger {\r\n\tpublic static log(message: string): void {\r\n\t\tconsole.log(message);\r\n\t}\r\n\r\n\tpublic static warn(message: string): void {\r\n\t\t\tconsole.warn(message);\r\n\t}\r\n\r\n\tpublic static error(message: string): void {\r\n\t\t\tconsole.error(message);\r\n\t}\r\n}\r\n","export class NameValuePair {\r\n\tconstructor(public name: string, public value: any) { }\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { Vector2 } from './vector2';\r\n\r\n@Exclude()\r\nexport class Rect {\r\n\r\n\t@Expose()\r\n\tpublic left: number;\r\n\r\n\t@Expose()\r\n\tpublic top: number;\r\n\r\n\t@Expose()\r\n\tpublic width: number;\r\n\r\n\t@Expose()\r\n\tpublic height: number;\r\n\r\n\tpublic constructor(left: number, top: number, width: number, height: number) {\r\n\t\tthis.left = left;\r\n\t\tthis.top = top;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic get right(): number {\r\n\t\treturn this.left + this.width;\r\n\t}\r\n\r\n\tpublic set right(value: number) {\r\n\t\tthis.width = value - this.left;\r\n\t}\r\n\r\n\tpublic get bottom(): number {\r\n\t\treturn this.top + this.height;\r\n\t}\r\n\r\n\tpublic set bottom(value: number) {\r\n\t\tthis.height = value - this.top;\r\n\t}\r\n\r\n\tpublic isInside(point: Vector2): boolean {\r\n\t\treturn this.isInsideXY(point.x, point.y);\r\n\t}\r\n\r\n\tpublic isInsideXY(x: number, y: number): boolean {\r\n\t\treturn (x >= this.left) && (x <= this.right) && (y >= this.top) && (y <= this.bottom);\r\n\t}\r\n\r\n\tpublic intersects(rect: Rect): boolean {\r\n\t\treturn this.isInsideXY(rect.left, rect.top) ||\r\n\t\t\tthis.isInsideXY(rect.right, rect.top) ||\r\n\t\t\tthis.isInsideXY(rect.left, rect.bottom) ||\r\n\t\t\tthis.isInsideXY(rect.right, rect.bottom) ||\r\n\t\t\trect.isInsideXY(this.left, this.top) ||\r\n\t\t\trect.isInsideXY(this.right, this.top) ||\r\n\t\t\trect.isInsideXY(this.left, this.bottom) ||\r\n\t\t\trect.isInsideXY(this.right, this.bottom);\r\n\t}\r\n}\r\n","import { isNumber } from 'util';\r\nimport { Logger } from './logger';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport class Timer {\r\n\r\n\tpublic static timerEvent: Subject<void> = new Subject();\r\n\tpublic static firsTimerIsActive = true;\r\n\tpublic static secondTimerIsActive = true;\r\n\tpublic static thirdTimerIsActive = true;\r\n\r\n\tprivate static isStarted = false;\r\n\tprivate static dividerValue = 1;\r\n\tprivate static intervalValue = 16;\r\n\r\n\tprivate static initialTimerValue = 0;\r\n\tprivate static lastTimerValue = 0;\r\n\tprivate static callsNumber = 0;\r\n\tprivate static callTime = 0;\r\n\r\n\r\n\tpublic static initialize() {\r\n\t\tTimer.initialTimerValue = Timer.getTime();\r\n\t\t// Timer.lastTimerValue = Timer.initialTimerValue;\r\n\t\t// Timer.callTime = Timer.initialTimerValue;\r\n\t\tTimer.start();\r\n\t\tsetInterval(() => { Timer.intervalCallback(); }, Timer.intervalValue);\r\n\t}\r\n\r\n\tpublic static get started(): boolean {\r\n\t\treturn Timer.isStarted;\r\n\t}\r\n\r\n\tpublic static get divider(): number {\r\n\t\treturn Timer.dividerValue;\r\n\t}\r\n\r\n\tpublic static set divider(value: number) {\r\n\t\tif (!isNumber(value) || value <= 0) {\r\n\t\t\tLogger.warn(`Timer's divider value is invalid: ${value}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tTimer.dividerValue = value;\r\n\t}\r\n\r\n\tpublic static get timeSinceStart(): number {\r\n\t\treturn Timer.callTime - Timer.initialTimerValue;\r\n\t}\r\n\r\n\t// delta have to be in secs.\r\n\tpublic static get delta(): number {\r\n\t\treturn (Timer.callTime - Timer.lastTimerValue) / 1000;\r\n\t}\r\n\r\n\tpublic static start(): void {\r\n\t\tTimer.isStarted = true;\r\n\t\tTimer.lastTimerValue = Timer.getTime();\r\n\t\tTimer.callTime = Timer.initialTimerValue;\r\n\t}\r\n\r\n\tpublic static stop(): void {\r\n\t\tTimer.isStarted = false;\r\n\t}\r\n\r\n\tpublic static getTime(): number {\r\n\t\treturn Date.now();\r\n\t}\r\n\r\n\tprivate static intervalCallback(): void {\r\n\t\tTimer.callsNumber++;\r\n\t\tif (Timer.callTime % Timer.divider !== 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tTimer.lastTimerValue = Timer.callTime;\r\n\t\tTimer.callTime = Timer.getTime();\r\n\t\tthis.timerEvent.next();\r\n\t}\r\n}\r\n\r\nTimer.initialize();\r\n","import { Vector2 } from './vector2';\r\n\r\n// http://gamedevelopertips.com/vector-in-game-development/\r\nexport class VMath {\r\n\tpublic static multiply(vector: Vector2, scalar: number): Vector2 {\r\n\t\treturn new Vector2(vector.x * scalar, vector.y * scalar);\r\n\t}\r\n\r\n\tpublic static add(vector: Vector2, vector1: Vector2): Vector2 {\r\n\t\treturn new Vector2(vector.x + vector1.x, vector.y + vector1.y);\r\n\t}\r\n\r\n\t// https://matthew-brett.github.io/teaching/rotation_2d.html\r\n\tpublic static rotate(vector: Vector2, angleDegrees: number): Vector2 {\r\n\t\t// x2=cos(β)x1−sin(β)y1\r\n\t\t// y2=sin(β)x1+cos(β)y1\r\n\t\tconst angle = VMath.toRad(angleDegrees);\r\n\t\tconst x2 = vector.x * Math.cos(angle) - vector.y * Math.sin(angle);\r\n\t\tconst y2 = vector.x * Math.sin(angle) + vector.y * Math.cos(angle);\r\n\t\treturn new Vector2(x2, y2);\r\n\t}\r\n\r\n\tpublic static toRad(angleDegrees: number): number {\r\n\t\treturn angleDegrees * Math.PI / 180;\r\n\t}\r\n\r\n\tpublic static randIntMaxIncluded(min: number, max: number): number {\r\n\t\treturn Math.floor(Math.random() * (max - min + 1) ) + min;\r\n\t}\r\n\tpublic static randIntMaxExcluded(min: number, max: number): number {\r\n\t\treturn Math.floor(Math.random() * (max - min) ) + min;\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\n\r\n@Exclude()\r\nexport class Vector2 {\r\n\r\n\tpublic static get zero() {\r\n\t\treturn new Vector2(0, 0);\r\n\t}\r\n\r\n\tpublic static get one() {\r\n\t\treturn new Vector2(1, 1);\r\n\t}\r\n\r\n\t@Expose()\r\n\tpublic x: number;\r\n\t@Expose()\r\n\tpublic y: number;\r\n\r\n\tconstructor(x: number, y: number) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n\r\n\tpublic subtract(value: Vector2): Vector2 {\r\n\t\treturn new Vector2(this.x - value.x, this.y - value.y);\r\n\t}\r\n\r\n\tpublic add(value: Vector2): Vector2 {\r\n\t\treturn new Vector2(this.x + value.x, this.y + value.y);\r\n\t}\r\n\r\n\tpublic clone(): Vector2 {\r\n\t\treturn new Vector2(this.x, this.y);\r\n\t}\r\n\r\n\tpublic equalTo(vector: Vector2): boolean {\r\n\t\treturn this.x === vector.x && this.y === vector.y;\r\n\t}\r\n}\r\n","import { NameValuePair } from '../../common/name-value-pair';\r\n\r\nexport interface IClassStatic {\r\n\tnew();\r\n}\r\n\r\nexport class ComponentFactory {\r\n\r\n\tpublic static createComponent<T>(clazz: IClassStatic, params: NameValuePair[], active: boolean = true): T {\r\n\t\tconst component = new clazz();\r\n\t\t(params || []).forEach((p) => {\r\n\t\t\tcomponent[p.name] = p.value;\r\n\t\t});\r\n\t\tcomponent.active = active;\r\n\t\treturn component;\r\n\t}\r\n}\r\n","import { GameObject } from '../../game-structure/game-object';\r\nimport { Transform } from '../../game-structure/transform';\r\nimport { GameComponent } from '../../game-components/core/base/game-component';\r\nimport { GameObjectCollection } from '../game-object-collection';\r\n\r\nexport class GameObjectFactory {\r\n\tpublic static createGameObject(\r\n\t\t\tparent: GameObject,\r\n\t\t\tname: string,\r\n\t\t\ttransform: Transform,\r\n\t\t\tcomponents: GameComponent[],\r\n\t\t\tactive: boolean,\r\n\t\t\ttext: string = null): GameObject {\r\n\r\n\t\tconst gameObject = new GameObject();\r\n\t\tgameObject.name = name;\r\n\t\tgameObject.transform = transform;\r\n\t\tcomponents.forEach((c) => {\r\n\t\t\tif (c.gameObject == null) {\r\n\t\t\t\tc.gameObject = gameObject;\r\n\t\t\t}\r\n\t\t});\r\n\t\tgameObject.components = components;\r\n\t\tgameObject.transform.gameObject = gameObject;\r\n\t\tgameObject.active = active;\r\n\t\tgameObject.paused = false;\r\n\t\tgameObject.text = text;\r\n\r\n\t\tif (parent != null) {\r\n\t\t\tGameObjectCollection.insert(gameObject, parent);\r\n\t\t}\r\n\r\n\t\treturn gameObject;\r\n\t}\r\n}\r\n","import { Vector2 } from '../../common/vector2';\r\nimport { Transform } from '../../game-structure/transform';\r\n\r\nexport class TransformFactory {\r\n\tpublic static createTransform(position: Vector2, width: number, height: number, rotation: number): Transform {\r\n\t\treturn Transform.instantiate(position, rotation, width, height);\r\n\t}\r\n\r\n\tpublic static createChildTransform(\r\n\t\t\tparent: Transform,\r\n\t\t\tlocalPosition: Vector2,\r\n\t\t\twidth: number,\r\n\t\t\theight: number,\r\n\t\t\trotation: number): Transform {\r\n\t\treturn Transform.instantiateChild(parent, localPosition, rotation, width, height);\r\n\t}\r\n}\r\n","import { GameObject } from '../game-structure/game-object';\r\n\r\nexport class GameObjectCollection {\r\n\r\n\tpublic static root(gameObject: GameObject): GameObject {\r\n\t\tlet root = gameObject;\r\n\t\twhile (root.parent != null) {\r\n\t\t\troot = root.parent;\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic static remove(gameObject: GameObject): void {\r\n\t\tif (gameObject.parent == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst index = gameObject.parent.children.indexOf(gameObject);\r\n\t\tif (index === -1) {\r\n\t\t\tconsole.warn(`GameObjectCollection.remove: Object's not found`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tgameObject.parent.children.splice(index, 1);\r\n\t\tgameObject.parent = null;\r\n\t\tgameObject.destroy();\r\n\t}\r\n\r\n\tpublic static removeChildren(gameObject: GameObject): void {\r\n\t\tconst children = gameObject.children.slice();\r\n\t\tchildren.forEach((child) => {\r\n\t\t\tGameObjectCollection.remove(child);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic static switch(objectA: GameObject, objectB: GameObject): void {\r\n\t\tif (objectA.parent !== objectB.parent) {\r\n\t\t\tconsole.warn(`GameObjectCollection.switch: Different parents`);\r\n\t\t}\r\n\t\tconst parent = objectA.parent;\r\n\t\tconst indexA = parent.children.indexOf(objectA);\r\n\t\tconst indexB = parent.children.indexOf(objectB);\r\n\t\tif (indexA === -1 || indexB === -1) {\r\n\t\t\tconsole.warn(`GameObjectCollection.switch: Object's not found, objectA: ${indexA}, objectB: ${indexB}`);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tparent.children.splice(indexA, 1, objectB);\r\n\t\tparent.children.splice(indexB, 1, objectA);\r\n\t}\r\n\r\n\tpublic static insert(gameObject: GameObject, parent?: GameObject, insertAfter?: GameObject): void {\r\n\t\tGameObjectCollection.remove(gameObject);\r\n\r\n\t\tif (parent == null) {\r\n\t\t\tparent = GameObjectCollection.root(gameObject);\r\n\t\t}\r\n\r\n\t\tgameObject.parent = parent;\r\n\t\tconst index = insertAfter == null ? -1 : parent.children.indexOf(gameObject);\r\n\t\tparent.children.splice(index === -1 ? parent.children.length : index, 0, gameObject);\r\n\t\tgameObject.start();\r\n\t}\r\n\r\n\tpublic static findDescendantByName(name: string, gameObject: GameObject): GameObject {\r\n\t\tfor (const child of gameObject.children) {\r\n\t\t\tif (child.name === name) {\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\tconst grand = GameObjectCollection.findDescendantByName(name, child);\r\n\t\t\tif (grand != null) {\r\n\t\t\t\treturn grand;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\n\r\nexport class RestClient {\r\n\tpublic static httpClient: HttpClient;\r\n}\r\n","import { Transform } from '../game-structure/transform';\r\nimport { GameObject } from '../game-structure/game-object';\r\nimport { VMath } from '../common/v-math';\r\n\r\nexport class TransformCalculateSystem {\r\n\r\n\tprivate static instanceRef: TransformCalculateSystem;\r\n\r\n\tprivate rootGameObjects: Set<GameObject> = new Set();\r\n\tprivate objectsToUpdate: Set<GameObject> = new Set();\r\n\r\n\tpublic static instance(): TransformCalculateSystem {\r\n\t\tif (this.instanceRef == null) {\r\n\t\t\tthis.instanceRef = new TransformCalculateSystem();\r\n\t\t}\r\n\t\treturn this.instanceRef;\r\n\t}\r\n\r\n\tpublic registerForUpdate(transform: Transform): void {\r\n\r\n\t\tif (this.objectsToUpdate.has(transform.gameObject)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet root = transform.gameObject;\r\n\t\twhile (root != null) {\r\n\t\t\tthis.objectsToUpdate.add(root);\r\n\t\t\tif (root.parent == null) {\r\n\t\t\t\tthis.rootGameObjects.add(root);\r\n\t\t\t}\r\n\t\t\troot = root.parent;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tArray.from(this.rootGameObjects.values()).forEach((gameObject: GameObject) => {\r\n\t\t\tgameObject.transform.rotation = gameObject.transform.localRotation;\r\n\t\t\tgameObject.transform.position = gameObject.transform.localPosition;\r\n\t\t\tthis.processChildren(gameObject);\r\n\t\t});\r\n\r\n\t\tthis.objectsToUpdate.clear();\r\n\t\tthis.rootGameObjects.clear();\r\n\t}\r\n\r\n\tprivate processChildren(gameObject: GameObject): void {\r\n\t\tconst currentTransform = gameObject.transform;\r\n\r\n\t\tgameObject.children.forEach((ch: GameObject) => {\r\n\t\t\tconst newLocalPosition = VMath.rotate(ch.transform.localPosition, currentTransform.rotation);\r\n\t\t\tch.transform.position = currentTransform.position.add(newLocalPosition);\r\n\t\t\tch.transform.rotation = ch.transform.localRotation + currentTransform.rotation;\r\n\t\t\tthis.processChildren(ch);\r\n\t\t});\r\n\t}\r\n}\r\n","export enum EventMessageType {\r\n\tEmpty = 'Empty',\r\n\tGameStarted = 'GameStarted',\r\n\tGameUpdate = 'GameUpdate',\r\n}\r\nexport class EventMessage {\r\n\tpublic static empty(): EventMessage {\r\n\t\treturn new EventMessage(EventMessageType.Empty, null);\r\n\t}\r\n\r\n\tconstructor(public type: EventMessageType, public data: any) { }\r\n}\r\n","import { GameComponent } from '../base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { HtmlRendererGameComponent } from '../html-renderer-game-component/html-renderer-game-component';\r\nimport { Timer } from '../../../common/timer';\r\n\r\n@Exclude()\r\nexport class AnimateGameComponent extends GameComponent {\r\n\r\n\t@Expose()\r\n\tpublic name = AnimateGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic pathToTexture: string;\r\n\t@Expose()\r\n\tpublic slideWidth: number;\r\n\t@Expose()\r\n\tpublic slideHeight: number;\r\n\t@Expose()\r\n\tpublic slidesInARow: number;\r\n\t@Expose()\r\n\tpublic slidesCount: number;\r\n\t@Expose()\r\n\tpublic animationSpeed: number;\r\n\r\n\tpublic repeat: boolean;\r\n\tpublic animationFinished: () => void;\r\n\r\n\tprivate slide = 0;\r\n\tprivate xScale = 1;\r\n\tprivate yScale = 1;\r\n\r\n\tprivate baseCss = '';\r\n\tprivate backPos = '0 0;';\r\n\tprivate counter = 0;\r\n\r\n\tprivate paused = false;\r\n\r\n\tstart() {\r\n\t\tconst renderer = this.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\tif (renderer == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.xScale = this.slideWidth / this.gameObject.transform.width;\r\n\t\tthis.yScale = this.slideHeight / this.gameObject.transform.height;\r\n\t\tconst backgroundXSize = ((this.slideWidth * this.slidesInARow) / this.xScale);\r\n\t\tconst backgroundYSize = ((Math.ceil(this.slidesCount / this.slidesInARow) * this.slideHeight) / this.yScale);\r\n\r\n\t\tthis.baseCss =\r\n\t\t\t'position: absolute; ' +\r\n\t\t\t'background-size:' + backgroundXSize + 'px ' + backgroundYSize + 'px;';\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tconst renderer = this.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\tif (renderer == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\trenderer.addAdditionalCss(this.baseCss + ' background-position:' + this.backPos);\r\n\t}\r\n\r\n\tupdate() {\r\n\r\n\t\tif (this.paused === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst timeToChange = 1 / this.animationSpeed;\r\n\r\n\t\tthis.counter += Timer.delta;\r\n\r\n\t\tif (this.counter < timeToChange) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.counter = 0;\r\n\r\n\t\tif (this.slide >= this.slidesCount) {\r\n\t\t\tif (this.animationFinished != null) {\r\n\t\t\t\tthis.animationFinished();\r\n\t\t\t}\r\n\t\t\tthis.slide = 0;\r\n\t\t}\r\n\r\n\t\tconst y = Math.floor(this.slide / this.slidesInARow);\r\n\t\tconst x = this.slide - (y * this.slidesInARow);\r\n\t\tconst xShift = (x * (this.slideWidth / this.xScale));\r\n\t\tconst yShift = (y * (this.slideHeight / this.yScale));\r\n\t\tthis.backPos = '-' + xShift + 'px -' + yShift + 'px;';\r\n\t\tthis.slide++;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tpublic isPaused(): boolean {\r\n\t\treturn this.paused;\r\n\t}\r\n\r\n\tpublic PauseAnimation(): void {\r\n\t\tthis.paused = true;\r\n\t}\r\n\r\n\tpublic ResumeAnimation(): void {\r\n\t\tthis.paused = false;\r\n\t}\r\n}\r\n\r\n","import { SimpleMoveGameComponent } from '../../user/simple-move-game-component';\r\nimport { HtmlRendererGameComponent } from '../html-renderer-game-component/html-renderer-game-component';\r\nimport { ShiftRightComponent } from '../../user/shift-right.component';\r\nimport { ResetToLeftComponent } from '../../user/reset-to-left.component';\r\nimport { RotateComponent } from '../../user/rotate.component';\r\nimport { ShowHideGameObjectComponent } from '../../user/show-hide-game-object-component';\r\nimport { TestOneComponent } from '../../user/test-one-component';\r\n\r\nexport class ComponentsRegistry {\r\n\tpublic static registry = new Map<string, () => any>();\r\n}\r\n\r\nComponentsRegistry.registry.set(ShiftRightComponent.name, () => ShiftRightComponent);\r\nComponentsRegistry.registry.set('SimpleMoveGameComponent', () => SimpleMoveGameComponent);\r\nComponentsRegistry.registry.set('HtmlRendererGameComponent', () => HtmlRendererGameComponent);\r\nComponentsRegistry.registry.set('ResetToLeftComponent', () => ResetToLeftComponent);\r\nComponentsRegistry.registry.set('RotateComponent', () => RotateComponent);\r\nComponentsRegistry.registry.set('ShowHideGameObjectComponent', () => ShowHideGameObjectComponent);\r\nComponentsRegistry.registry.set('TestOneComponent', () => TestOneComponent);\r\n\r\n\r\n\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { Exclude, Expose } from 'class-transformer';\r\n\r\n@Exclude()\r\nexport abstract class GameComponent {\r\n\r\n\tpublic abstract name: string;\r\n\r\n\t@Expose()\r\n\tactive: boolean;\r\n\r\n\tgameObject: GameObject;\r\n\r\n\tpublic abstract start();\r\n\r\n\tpublic abstract draw();\r\n\r\n\tpublic abstract update();\r\n\r\n\tpublic abstract destroy();\r\n}\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { Guid } from '../../../common/guid';\r\n\r\nexport class GameObjectRenderInfo {\r\n\tpublic id: string = null;\r\n\tpublic left: number = null;\r\n\tpublic top: number = null;\r\n\tpublic width: number = null;\r\n\tpublic height: number = null;\r\n\tpublic rotation: number = null;\r\n\tpublic backgroundImage: string = null;\r\n\tpublic text: string = null;\r\n\tpublic cssStyle: string = null;\r\n\r\n\tpublic static fromGameObject(gameObject: GameObject): GameObjectRenderInfo {\r\n\t\treturn {\r\n\t\t\tid: Guid.create(),\r\n\t\t\tleft: gameObject.transform.position.x,\r\n\t\t\ttop: gameObject.transform.position.y,\r\n\t\t\twidth: gameObject.transform.width,\r\n\t\t\theight: gameObject.transform.height,\r\n\t\t\trotation: gameObject.transform.rotation,\r\n\t\t\tbackgroundImage: null,\r\n\t\t\ttext: null,\r\n\t\t\tcssStyle: null\r\n\t\t};\r\n\t}\r\n}\r\n","import { GameObject } from '../../../game-structure/game-object';\r\nimport { GameComponent } from '../base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { GameObjectRenderInfo } from './game-object-render-info';\r\n\r\n@Exclude()\r\nexport class HtmlRendererGameComponent extends GameComponent {\r\n\r\n\t@Expose()\r\n\tpublic name = HtmlRendererGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic backgroundImage: string;\r\n\r\n\t@Expose()\r\n\tpublic cssStyle: string;\r\n\r\n\tpublic gameObject: GameObject;\r\n\r\n\tpublic renderInfo: GameObjectRenderInfo;\r\n\r\n\tprivate additionalCss = '';\r\n\tprivate image: HTMLImageElement;\r\n\r\n\tstart(): void {\r\n\t\tthis.renderInfo = GameObjectRenderInfo.fromGameObject(this.gameObject);\r\n\r\n\t\t// todo this is a pre-load of the images, but it should be moved into the initial game loading procedure with progress bar.\r\n\t\tif (this.backgroundImage != null) {\r\n\t\t\tthis.image = new Image();\r\n\t\t\tthis.image.src = this.backgroundImage;\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t\tthis.renderInfo.height = this.gameObject.transform.height;\r\n\t\tthis.renderInfo.width = this.gameObject.transform.width;\r\n\t\tthis.renderInfo.left = this.gameObject.transform.position.x - (this.gameObject.transform.width / 2);\r\n\t\tthis.renderInfo.top = this.gameObject.transform.position.y - (this.gameObject.transform.height / 2);\r\n\t\tthis.renderInfo.rotation = this.gameObject.transform.rotation;\r\n\t\tthis.renderInfo.backgroundImage = this.backgroundImage != null ? 'url(\"' + this.backgroundImage + '\")' : null;\r\n\t\tthis.renderInfo.text = this.gameObject.text;\r\n\t\tthis.renderInfo.cssStyle = this.cssStyle + ' ' + this.additionalCss;\r\n\t\tthis.additionalCss = ''; // cleanUp;\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tpublic addAdditionalCss(css: string): void {\r\n\t\tthis.additionalCss += css;\r\n\t}\r\n}\r\n\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Vector2 } from '../../common/vector2';\r\n\r\n@Exclude()\r\nexport class ResetToLeftComponent extends GameComponent {\r\n\r\n\tpublic name = ResetToLeftComponent.name;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (this.gameObject.transform.position.x > 1920) {\r\n\t\t\tthis.gameObject.transform.localPosition = new Vector2(-100, this.gameObject.transform.localPosition.y);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n","import { Exclude } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { VMath } from '../../common/v-math';\r\n\r\n@Exclude()\r\nexport class RotateComponent extends GameComponent {\r\n\r\n\tpublic name = RotateComponent.name;\r\n\r\n\tpublic rotation = 90;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst angle = this.rotation * Timer.delta;\r\n\t\tthis.gameObject.transform.localRotation += angle;\r\n\t\tthis.gameObject.transform.localPosition = VMath.rotate(this.gameObject.transform.localPosition, angle);\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\n\r\n@Exclude()\r\nexport class ShiftRightComponent extends GameComponent {\r\n\r\n\tpublic name = ShiftRightComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst x = this.gameObject.transform.localPosition.x + this.speed * Timer.delta;\r\n\t\tconst y = this.gameObject.transform.localPosition.y;\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(x, y);\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n","import { Exclude } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { GameObject } from '../../game-structure/game-object';\r\nimport { Input } from '../../input/input';\r\n\r\n@Exclude()\r\nexport class ShowHideGameObjectComponent extends GameComponent {\r\n\r\n\tpublic name = ShowHideGameObjectComponent.name;\r\n\r\n\tpublic gameObjectToHide: GameObject;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tif (Input.getKeyDown('Enter')) {\r\n\t\t\tthis.gameObjectToHide.active = !this.gameObjectToHide.active;\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Exclude, Expose, Type } from 'class-transformer';\r\nimport { VMath } from '../../common/v-math';\r\n\r\n@Exclude()\r\nexport class SimpleMoveGameComponent extends GameComponent {\r\n\r\n\tpublic name = SimpleMoveGameComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\t@Expose()\r\n\tpublic rotation = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic direction: Vector2 = null;\r\n\r\n\tstart(): void {\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\r\n\t\tlet angle = this.gameObject.transform.rotation;\r\n\t\tangle += this.rotation * Timer.delta;\r\n\t\tif (angle > 360) {\r\n\t\t\tangle = angle - 360;\r\n\t\t}\r\n\t\tconst position = this.gameObject.transform.localPosition;\r\n\r\n\t\tconst direction = VMath.rotate(new Vector2(1, 0), angle);\r\n\r\n\r\n\t\tthis.gameObject.transform.localPosition = VMath.add(position, VMath.multiply(direction, this.speed * Timer.delta));\r\n\t\tthis.gameObject.transform.localRotation = angle;\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Timer } from '../../common/timer';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Exclude, Expose, Type } from 'class-transformer';\r\nimport { VMath } from '../../common/v-math';\r\nimport { GameObject } from '../../game-structure/game-object';\r\nimport { GameObjectFactory } from '../../core/factory/game-object-factory';\r\nimport { TransformFactory } from '../../core/factory/transform-factory';\r\nimport { ComponentFactory } from '../../core/factory/component-factory';\r\nimport { HtmlRendererGameComponent } from '../core/html-renderer-game-component/html-renderer-game-component';\r\nimport { NameValuePair } from '../../common/name-value-pair';\r\nimport { GameObjectCollection } from '../../core/game-object-collection';\r\n\r\ninterface SparkInfo {\r\n\tdirection: Vector2;\r\n\tcolor: number;\r\n\tspeed: number;\r\n\tgameObject: GameObject;\r\n\tgravitySpeed: number;\r\n}\r\n\r\n\r\n@Exclude()\r\nexport class SparksComponent extends GameComponent {\r\n\r\n\tpublic name = SparksComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic speed = null;\r\n\r\n\t@Expose()\r\n\tpublic amount = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic gravity: Vector2 = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tpublic shift: Vector2 = null;\r\n\r\n\t@Expose()\r\n\tpublic gravityValue = 9.8;\r\n\r\n\t@Expose()\r\n\tpublic initScatter = 9.8;\r\n\r\n\tprivate sparks: SparkInfo[] = [];\r\n\r\n\tstart(): void {\r\n\t\tfor (let i = 0; i < this.amount; i++) {\r\n\t\t\tthis.createNewSpark(i);\r\n\t\t\tthis.sparks[i].color = VMath.randIntMaxIncluded(1, 255);\r\n\t\t}\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tfor (let i = 0; i < this.amount; i++) {\r\n\t\t\tthis.updateSpark(i);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n\r\n\tprivate updateSpark(index: number): void {\r\n\t\tif (this.sparks[index] == null) {\r\n\t\t\tthis.createNewSpark(index);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst spark = this.sparks[index];\r\n\t\tspark.color = spark.color - this.speed;\r\n\t\tif (spark.color < 0) {\r\n\t\t\tGameObjectCollection.remove(spark.gameObject);\r\n\t\t\tthis.sparks[index] = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tspark.gravitySpeed += this.gravityValue * Timer.delta;\r\n\t\tconst deltaSpeed = spark.speed * Timer.delta;\r\n\t\tconst shift = VMath.multiply(spark.direction.add(VMath.multiply(this.gravity, spark.gravitySpeed)), deltaSpeed);\r\n\t\tspark.gameObject.transform.localPosition = spark.gameObject.transform.localPosition.add(shift);\r\n\r\n\t\tconst htmlComponent = spark.gameObject.getComponent(HtmlRendererGameComponent.name) as HtmlRendererGameComponent;\r\n\t\thtmlComponent.cssStyle = `color: rgba(${Math.ceil(spark.color)}, 0, 0, ${/*spark.color / 255*/1}); font-size: 10px;`;\r\n\r\n\t}\r\n\r\n\tprivate createNewSpark(index: number): void {\r\n\t\tconst direction =  VMath.rotate(Vector2.one, VMath.randIntMaxIncluded(0, 360));\r\n\t\tlet position = this.gameObject.transform.position.add(VMath.multiply(direction, VMath.randIntMaxIncluded(0, this.initScatter)));\r\n\t\tposition = position.add(this.shift);\r\n\r\n\t\tconst root = GameObjectCollection.root(this.gameObject);\r\n\t\tconst gameObject = GameObjectFactory.createGameObject(\r\n\t\t\troot,\r\n\t\t\t'spark' + index,\r\n\t\t\tTransformFactory.createChildTransform(root.transform, position, 5, 5, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: #FF0000; font-size: 10px;')\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue,\r\n\t\t\t'*'\r\n\t\t\t);\r\n\r\n\t\tthis.sparks[index] = {\r\n\t\t\tdirection,\r\n\t\t\tcolor: 255,\r\n\t\t\tgameObject,\r\n\t\t\tspeed: VMath.randIntMaxIncluded(10, 50),\r\n\t\t\tgravitySpeed: 0\r\n\t\t};\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { Exclude, Expose } from 'class-transformer';\r\nimport { GameComponent } from '../core/base/game-component';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { Timer } from '../../common/timer';\r\n\r\n\r\n@Exclude()\r\nexport class TestOneComponent extends GameComponent {\r\n\r\n\tpublic name = TestOneComponent.name;\r\n\r\n\tpublic startX: number;\r\n\tpublic stopX: number;\r\n\tpublic speed: number;\r\n\r\n\tstart(): void {\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(this.startX, this.gameObject.transform.localPosition.y);\r\n\t}\r\n\r\n\tdraw(): void {\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tconst currentPos = this.gameObject.transform.localPosition;\r\n\t\tif (currentPos.x >= this.stopX) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst offsetX = this.speed * Timer.delta;\r\n\t\tthis.gameObject.transform.localPosition = new Vector2(currentPos.x + offsetX, currentPos.y);\r\n\t\tif (this.gameObject.transform.localPosition.x > this.stopX) {\r\n\t\t\tthis.gameObject.transform.localPosition = new Vector2(this.stopX, currentPos.y);\r\n\t\t}\r\n\t}\r\n\r\n\tdestroy(): void {\r\n\t}\r\n}\r\n","import { GameComponent } from '../core/base/game-component';\r\nimport { Exclude, Expose } from 'class-transformer';\r\nimport { Rect } from '../../common/rect';\r\nimport { Vector2 } from '../../common/vector2';\r\nimport { VMath } from '../../common/v-math';\r\nimport { Timer } from '../../common/timer';\r\nimport { Angle } from '../../common/angle';\r\n\r\nenum WalkerOperation {\r\n\tNone = 'None',\r\n\tMoveTo = 'MoveLeft',\r\n\tWeld = 'Welding'\r\n}\r\n\r\ninterface MoveToWithRotate {\r\n\tmoveToVector: Vector2;\r\n\ttoAngle: Angle;\r\n\tisRotating: boolean;\r\n}\r\n\r\n@Exclude()\r\nexport class WalkerComponent extends GameComponent  {\r\n\r\n\tpublic name = WalkerComponent.name;\r\n\r\n\t@Expose()\r\n\tpublic walkArea: Rect = null;\r\n\r\n\t@Expose()\r\n\tpublic moveSpeed: number = null;\r\n\r\n\t@Expose()\r\n\tpublic rotateSpeed: number = null;\r\n\r\n\tprivate operations: Map<WalkerOperation, () => void> = new Map<WalkerOperation, () => void>();\r\n\r\n\tprivate currentOperation: WalkerOperation = WalkerOperation.None;\r\n\tprivate startTime: number;\r\n\tprivate waitMSecs: number;\r\n\r\n\tprivate moveToWithRotateData: MoveToWithRotate;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.operations.set(WalkerOperation.None, () => {});\r\n\t\tthis.operations.set(WalkerOperation.MoveTo, () => { this.moveToOperation(); });\r\n\t\tthis.operations.set(WalkerOperation.Weld, () => { this.weldOperation(); });\r\n\t}\r\n\r\n\tpublic start(): void {\r\n\t}\r\n\r\n\tpublic draw(): void {\r\n\t}\r\n\r\n\tpublic update(): void {\r\n\t\tif (this.currentOperation === WalkerOperation.None) {\r\n\t\t\tthis.startNewRandomOperation();\r\n\t\t}\r\n\t\tthis.operations.get(this.currentOperation)();\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t}\r\n\r\n\tprivate startNewRandomOperation(): void {\r\n\t\tconst operation = VMath.randIntMaxIncluded(0, 1);\r\n\t\tswitch (operation) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.currentOperation = WalkerOperation.MoveTo;\r\n\t\t\t\tconst angle = Angle.rand();\r\n\t\t\t\tthis.moveToWithRotateData = {\r\n\t\t\t\t\ttoAngle: new Angle(angle),\r\n\t\t\t\t\tmoveToVector: VMath.rotate(new Vector2(0, 1), angle),\r\n\t\t\t\t\tisRotating: true\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t// todo weld (sparks)\r\n\t\t\t\tthis.startTime = Timer.getTime();\r\n\t\t\t\tthis.waitMSecs = 2000;\r\n\t\t\t\tthis.currentOperation = WalkerOperation.Weld;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate moveToOperation(): void {\r\n\t\tif (this.moveToWithRotateData.isRotating) {\r\n\t\t\tconst angle = new Angle(this.gameObject.transform.localRotation);\r\n\t\t\tif (angle.rotateTo(this.moveToWithRotateData.toAngle, this.rotateSpeed * Timer.delta)) {\r\n\t\t\t\tthis.moveToWithRotateData.isRotating = false;\r\n\t\t\t}\r\n\t\t\tthis.gameObject.transform.localRotation = angle.value;\r\n\t\t\t// return;\r\n\t\t}\r\n\r\n\t\tconst pos = this.gameObject.transform.localPosition;\r\n\t\tconst newPos = pos.add(VMath.multiply(this.moveToWithRotateData.moveToVector, this.moveSpeed * Timer.delta));\r\n\r\n\t\tif (!this.walkArea.isInside(newPos)) {\r\n\t\t\tthis.currentOperation = WalkerOperation.None;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.gameObject.transform.localPosition = newPos;\r\n\t}\r\n\r\n\tprivate weldOperation(): void {\r\n\t\tif (this.startTime + this.waitMSecs > Timer.getTime()) {\r\n\t\t\tthis.currentOperation = WalkerOperation.None;\r\n\t\t}\r\n\t}\r\n}\r\n","import { BehaviorSubject, Subject } from 'rxjs';\r\nimport { EventMessage, EventMessageType } from './events/event-message';\r\n\r\nexport class GameEventManager {\r\n\tprivate static onGameEventSubject = new BehaviorSubject<EventMessage>(EventMessage.empty());\r\n\r\n\tpublic static events(): Subject<EventMessage> {\r\n\t\treturn this.onGameEventSubject;\r\n\t}\r\n\r\n\tpublic static publish(event: EventMessage): void {\r\n\t\tthis.onGameEventSubject.next(event);\r\n\t}\r\n}\r\n","import { GameComponent } from '../game-components/core/base/game-component';\r\nimport { ComponentsRegistry } from '../game-components/core/base/components-registry';\r\nimport { plainToClass } from 'class-transformer';\r\n\r\nexport class ComponentBuilder {\r\n\r\n\tpublic static build(component: GameComponent[]): GameComponent[] {\r\n\t\tif (component == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn component.map((c) => {\r\n\t\t\tconst factory = ComponentsRegistry.registry.get(c.name);\r\n\t\t\treturn plainToClass(factory(), component) as any;\r\n\t\t});\r\n\t}\r\n}\r\n","import { GameData } from '../game-structure/game-data';\r\nimport { plainToClass } from 'class-transformer';\r\nimport { HardcodedGameData } from './hardcoded-game-data';\r\n\r\nexport class GameLoader {\r\n\r\n\tpublic static load(): GameData {\r\n\t\treturn HardcodedGameData.getData();\r\n\t}\r\n\r\n\tpublic static loadFromJson(dataJson: any): GameData {\r\n\t\tconst data = plainToClass(GameData, dataJson) as any;\r\n\t\treturn data as GameData;\r\n\t}\r\n}\r\n","import { GameScene } from '../game-structure/game-scene';\r\nimport { GameObject } from '../game-structure/game-object';\r\nimport { Vector2 } from '../common/vector2';\r\nimport { NameValuePair } from '../common/name-value-pair';\r\nimport { GameData } from '../game-structure/game-data';\r\nimport { ComponentFactory } from '../core/factory/component-factory';\r\nimport { SparksComponent } from '../game-components/user/sparks.component';\r\nimport { GameObjectFactory } from '../core/factory/game-object-factory';\r\nimport { TransformFactory } from '../core/factory/transform-factory';\r\nimport { HtmlRendererGameComponent } from '../game-components/core/html-renderer-game-component/html-renderer-game-component';\r\nimport { RotateComponent } from '../game-components/user/rotate.component';\r\nimport { ShowHideGameObjectComponent } from '../game-components/user/show-hide-game-object-component';\r\nimport { Rect } from '../common/rect';\r\nimport { WalkerComponent } from '../game-components/user/walker.component';\r\nimport { VMath } from '../common/v-math';\r\nimport { ImpossibleDinoData } from '../../_games/impossible-dino/impossible-dino-data';\r\n// import { JiraData } from '../../_games/_enviance/data/jira-data';\r\n\r\n\r\nexport class HardcodedGameData {\r\n\r\n\tpublic static getData(): GameData {\r\n\t\treturn new GameData(\r\n\t\t\t[\r\n\t\t\t\tHardcodedGameData.getScene()\r\n\t\t\t]\r\n\t\t);\r\n\t}\r\n\r\n\tprivate static getScene(): GameScene {\r\n\t\tconst rootGameObject = ImpossibleDinoData.getData();\r\n\t\treturn new GameScene('Main Scene', rootGameObject);\r\n\t}\r\n\r\n\r\n\tprivate static createStarShipGameObjects(): GameObject {\r\n\r\n\t\tconst rootGameObject = GameObjectFactory.createGameObject(\r\n\t\t\tnull,\r\n\t\t\t'root',\r\n\t\t\tTransformFactory.createTransform(new Vector2(0, 0), 0, 0, 0),\r\n\t\t\t[],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tGameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Button 1',\r\n\t\t\tTransformFactory.createTransform(new Vector2(100, 25), 150, 25, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: #FAA; font-size: 14px; padding-top: 5px; text-align: center; cursor: pointer'),\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/button-one.png')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue,\r\n\t\t\t'BUTTON ONE!!!'\r\n\t\t);\r\n\r\n\t\tconst deathStar = GameObjectFactory.createGameObject( rootGameObject,\r\n\t\t\t'DeathStar',\r\n\t\t\tTransformFactory.createTransform(new Vector2(100, 100), 100, 100, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/death-star.png'),\r\n\t\t\t\t\tnew NameValuePair('cssStyle', 'color: white; font-size: 40px;')\r\n\t\t\t\t], true),\r\n\t\t\t\t/*ComponentFactory.createComponent(SimpleMoveGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 100),\r\n\t\t\t\t\tnew NameValuePair('direction', new Vector2(1, 0.5)),\r\n\t\t\t\t\tnew NameValuePair('rotation', 45)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(ShiftRightComponent, [\r\n\t\t\t\t\tnew NameValuePair('speed', 100)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(ResetToLeftComponent, [], true)*/\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst satellite = GameObjectFactory.createGameObject(\r\n\t\t\tdeathStar,\r\n\t\t\t'Satellite',\r\n\t\t\tTransformFactory.createChildTransform(deathStar.transform, new Vector2(0, 70), 30, 30, 180),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/cruiser.png')\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(RotateComponent, [\r\n\t\t\t\t\tnew NameValuePair('rotation', 90)\r\n\t\t\t\t], true),\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst SatelliteFire = GameObjectFactory.createGameObject(\r\n\t\t\tsatellite,\r\n\t\t\t'Satellite fire',\r\n\t\t\tTransformFactory.createChildTransform(rootGameObject.transform, new Vector2(-15, 0), 2, 2, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(SparksComponent, [\r\n\t\t\t\t\tnew NameValuePair('active', true),\r\n\t\t\t\t\tnew NameValuePair('amount', 10),\r\n\t\t\t\t\tnew NameValuePair('speed', 10),\r\n\t\t\t\t\tnew NameValuePair('gravity', new Vector2(0, 0)),\r\n\t\t\t\t\tnew NameValuePair('gravityValue', 9.8),\r\n\t\t\t\t\tnew NameValuePair('initScatter', 0),\r\n\t\t\t\t\tnew NameValuePair('shift', new Vector2(0, 0))\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst shComponent = ComponentFactory.createComponent<ShowHideGameObjectComponent>(ShowHideGameObjectComponent, [], true);\r\n\t\tshComponent.gameObjectToHide = satellite;\r\n\t\tdeathStar.components.push(shComponent);\r\n\r\n\r\n\t\tconst shiftX = 400;\r\n\t\tconst shiftY = 400;\r\n\t\tconst start = new Vector2(0, 200);\r\n\t\tconst shiftAngle = 20;\r\n\t\tconst mosaics: GameObject[] = [];\r\n\t\tfor (let i = 0; i < 360; i += shiftAngle) {\r\n\t\t\tconst curr = VMath.rotate(start, i);\r\n\t\t\tmosaics.push(HardcodedGameData.createMosaic(curr.x + shiftX, curr.y + shiftY, rootGameObject));\r\n\t\t}\r\n\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[0], 'assets/img/unit-round-0-empty.png', 45);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[8], 'assets/img/unit-round-1-empty.png', 90);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[12], 'assets/img/unit-round-2-empty.png', 135);\r\n\t\tHardcodedGameData.createStarUnit(rootGameObject, mosaics[4], 'assets/img/unit-round-3-empty.png', 180);\r\n\r\n\t\treturn rootGameObject;\r\n\t}\r\n\r\n\tprivate static createMosaic(x: number, y: number, rootGameObject: GameObject): GameObject {\r\n\t\treturn GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'mosaic-silver',\r\n\t\t\tTransformFactory.createChildTransform(rootGameObject.transform, new Vector2(x, y), 50, 50, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', 'assets/img/mosaic-silver.png')\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t}\r\n\r\n\tprivate static createStarUnit(rootGameObject: GameObject, mosaic: GameObject, image, rotateSpeed): GameObject {\r\n\t\tconst starUnit = GameObjectFactory.createGameObject(\r\n\t\t\trootGameObject,\r\n\t\t\t'Star Unit',\r\n\t\t\tTransformFactory.createChildTransform(rootGameObject.transform, mosaic.transform.localPosition.clone(), 77, 77, 45),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t\tnew NameValuePair('backgroundImage', `${image}`)\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(WalkerComponent, [\r\n\t\t\t\t\tnew NameValuePair('walkArea', new Rect(\r\n\t\t\t\t\t\tmosaic.transform.localPosition.x - 25,\r\n\t\t\t\t\t\tmosaic.transform.localPosition.y - 25,\r\n\t\t\t\t\t\t50,\r\n\t\t\t\t\t\t50)),\r\n\t\t\t\t\tnew NameValuePair('moveSpeed', 25),\r\n\t\t\t\t\tnew NameValuePair('rotateSpeed', rotateSpeed)\r\n\t\t\t\t], true)\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\r\n\t\tconst starUnitFire = GameObjectFactory.createGameObject(\r\n\t\t\tstarUnit,\r\n\t\t\t'Star Unit fire',\r\n\t\t\tTransformFactory.createChildTransform(rootGameObject.transform, new Vector2(0, 0), 2, 2, 0),\r\n\t\t\t[\r\n\t\t\t\tComponentFactory.createComponent(HtmlRendererGameComponent, [\r\n\t\t\t\t], true),\r\n\t\t\t\tComponentFactory.createComponent(SparksComponent, [\r\n\t\t\t\t\tnew NameValuePair('active', true),\r\n\t\t\t\t\tnew NameValuePair('amount', 50),\r\n\t\t\t\t\tnew NameValuePair('speed', 1),\r\n\t\t\t\t\tnew NameValuePair('gravity', new Vector2(0, 1)),\r\n\t\t\t\t\tnew NameValuePair('gravityValue', 2.8),\r\n\t\t\t\t\tnew NameValuePair('initScatter', 0),\r\n\t\t\t\t\tnew NameValuePair('shift', new Vector2(0, 0))\r\n\t\t\t\t])\r\n\t\t\t],\r\n\t\t\ttrue\r\n\t\t);\r\n\t\treturn starUnit;\r\n\t}\r\n}\r\n\r\n","import { GameLoader } from './game-loader/game-loader';\r\nimport { GameData } from './game-structure/game-data';\r\nimport { Subscription } from 'rxjs';\r\nimport { EventMessage, EventMessageType } from './events/event-message';\r\nimport { Timer } from './common/timer';\r\nimport { GameProcessor } from './game-processor';\r\nimport { GameScene } from './game-structure/game-scene';\r\nimport { GameEventManager } from './game-event-manager';\r\n\r\nexport class GameManager {\r\n\tprivate static gameManagerInstance: GameManager = null;\r\n\r\n\tprivate gameData: GameData = null;\r\n\tprivate currentScene: GameScene = null;\r\n\tprivate timerSubscription: Subscription = null;\r\n\r\n\tpublic static instance(): GameManager {\r\n\t\tif (GameManager.gameManagerInstance == null) {\r\n\t\t\tGameManager.gameManagerInstance = new GameManager();\r\n\t\t}\r\n\t\treturn GameManager.gameManagerInstance;\r\n\t}\r\n\r\n\tpublic load(): void {\r\n\r\n\t\tthis.gameData = GameLoader.load();\r\n\t\tthis.currentScene = this.gameData.scenes[0];\r\n\t\tthis.setTimer();\r\n\t\tGameEventManager.publish(new EventMessage(EventMessageType.GameStarted, this.currentScene.rootGameObject.children));\r\n\t}\r\n\r\n\tpublic destroy(): void {\r\n\t\tif (this.timerSubscription) {\r\n\t\t\tthis.timerSubscription.unsubscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setTimer(): void {\r\n\t\tif (this.timerSubscription) {\r\n\t\t\tthis.timerSubscription.unsubscribe();\r\n\t\t}\r\n\t\tthis.timerSubscription = Timer.timerEvent.subscribe(() => {\r\n\t\t\tGameProcessor.process(this.currentScene.rootGameObject);\r\n\t\t\tGameEventManager.publish(new EventMessage(EventMessageType.GameUpdate, this.currentScene));\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n","import { CollisionsProcessor } from './physics/collisions-processor';\r\nimport { TransformCalculateSystem } from './core/transform-calculate-system';\r\nimport { Input } from './input/input';\r\nimport { GameObject } from './game-structure/game-object';\r\n\r\nexport class GameProcessor {\r\n\r\n\tpublic static process(rootGameObject: GameObject): void {\r\n\r\n\t\trootGameObject.update();\r\n\r\n\r\n\t\tTransformCalculateSystem.instance().update();\r\n\r\n\t\tCollisionsProcessor.checkCollisions(rootGameObject);\r\n\r\n\t\trootGameObject.draw();\r\n\r\n\t\tInput.frameEnd();\r\n\t}\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { GameScene } from './game-scene';\r\n\r\n@Exclude()\r\nexport class GameData {\r\n\t@Expose()\r\n\t@Type(() => GameScene)\r\n\tscenes: GameScene[];\r\n\r\n\tconstructor(scenes: GameScene[]) {\r\n\t\tthis.scenes = scenes;\r\n\t}\r\n}\r\n","import { Exclude, Expose, Transform as TransformAttr, Type } from 'class-transformer';\r\nimport { Transform } from './transform';\r\nimport { GameComponent } from '../game-components/core/base/game-component';\r\nimport { ComponentBuilder } from '../game-loader/component-builder';\r\n\r\n@Exclude()\r\nexport class GameObject {\r\n\r\n\t@Expose()\r\n\tpublic name: string = null;\r\n\r\n\t@Expose()\r\n\t@TransformAttr(value => ComponentBuilder.build(value), {toClassOnly: true})\r\n\tpublic components: GameComponent[] = [];\r\n\r\n\t@Expose()\r\n\t@Type(() => Transform)\r\n\tpublic transform: Transform = new Transform();\r\n\r\n\t@Expose()\r\n\t@Type(() => GameObject)\r\n\tpublic children: GameObject[] = [];\r\n\r\n\t@Expose()\r\n\t@Type(() => GameObject)\r\n\tpublic parent: GameObject = null;\r\n\r\n\t@Expose()\r\n\tpublic text: string;\r\n\r\n\t@Expose()\r\n\tpublic active: boolean;\r\n\r\n\t@Expose()\r\n\tpublic paused: boolean;\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n\tpublic getComponent(componentName: string): GameComponent {\r\n\t\treturn this.components.find((c) => c.name === componentName);\r\n\t}\r\n\r\n\tstart(): void {\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tcomponent.start();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.start();\r\n\t\t});\r\n\t}\r\n\r\n\tdraw() {\r\n\t\tif (!this.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tif (!component.active) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcomponent.draw();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.draw();\r\n\t\t});\r\n\t}\r\n\r\n\tupdate() {\r\n\t\tif (!this.active || this.paused) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tif (!component.active) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tcomponent.update();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.update();\r\n\t\t});\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.components.forEach(\r\n\t\t\t(component) => {\r\n\t\t\t\tcomponent.destroy();\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\tthis.children.forEach((ch) => {\r\n\t\t\tch.destroy();\r\n\t\t});\r\n\t}\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { GameObject } from './game-object';\r\n\r\n@Exclude()\r\nexport class GameScene {\r\n  @Expose()\r\n  public name: string;\r\n  @Expose()\r\n  @Type(() => GameObject)\r\n  public rootGameObject: GameObject;\r\n\r\n  constructor(name: string, gameObject: GameObject) {\r\n  \tthis.name = name;\r\n  \tthis.rootGameObject = gameObject;\r\n  }\r\n}\r\n","import { Exclude, Expose, Type } from 'class-transformer';\r\nimport { Vector2 } from '../common/vector2';\r\nimport { GameObject } from './game-object';\r\nimport { VMath } from '../common/v-math';\r\nimport { TransformCalculateSystem } from '../core/transform-calculate-system';\r\nimport { Rect } from '../common/rect';\r\n\r\n@Exclude()\r\nexport class Transform {\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tprivate positionValue: Vector2 = null;\r\n\r\n\t@Expose()\r\n\t@Type(() => Vector2)\r\n\tprivate localPositionValue: Vector2 = null;\r\n\r\n\t@Expose()\r\n\tprivate rotationValue: number = null;\r\n\r\n\t@Expose()\r\n\tprivate localRotationValue: number = null;\r\n\r\n\t@Expose()\r\n\tpublic width: number = null;\r\n\r\n\t@Expose()\r\n\tpublic height: number = null;\r\n\r\n\tpublic gameObject: GameObject = null;\r\n\r\n\tpublic static instantiate(position: Vector2, rotation: number, width: number, height: number): Transform {\r\n\t\tconst t = new Transform();\r\n\t\tt.positionValue = position;\r\n\t\tt.localPositionValue = position;\r\n\t\tt.rotationValue = rotation;\r\n\t\tt.localRotationValue = rotation;\r\n\t\tt.width = width;\r\n\t\tt.height = height;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tpublic static instantiateChild(\r\n\t\t\tparent: Transform,\r\n\t\t\tlocalPosition: Vector2,\r\n\t\t\trotation: number,\r\n\t\t\twidth: number,\r\n\t\t\theight: number): Transform {\r\n\t\tconst t = new Transform();\r\n\t\tt.positionValue = parent.position.add(localPosition);\r\n\t\tt.localPositionValue = localPosition;\r\n\t\tt.rotationValue = parent.rotation + rotation;\r\n\t\tt.localRotationValue = rotation;\r\n\t\tt.width = width;\r\n\t\tt.height = height;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tpublic get position(): Vector2 {\r\n\t\treturn this.positionValue;\r\n\t}\r\n\r\n\tpublic set position(value: Vector2) {\r\n\t\tthis.positionValue = value;\r\n\t}\r\n\r\n\tpublic get localPosition(): Vector2 {\r\n\t\treturn this.localPositionValue;\r\n\t}\r\n\r\n\tpublic set localPosition(value: Vector2) {\r\n\t\tthis.localPositionValue = value;\r\n\t\tTransformCalculateSystem.instance().registerForUpdate(this);\r\n\t}\r\n\r\n\tpublic get rotation(): number {\r\n\t\treturn this.rotationValue;\r\n\t}\r\n\r\n\tpublic set rotation(value: number) {\r\n\t\tthis.rotationValue = value;\r\n\t}\r\n\r\n\tpublic get localRotation() {\r\n\t\treturn this.localRotationValue;\r\n\t}\r\n\r\n\tpublic set localRotation(value: number) {\r\n\t\tthis.localRotationValue = value;\r\n\t\tTransformCalculateSystem.instance().registerForUpdate(this);\r\n\t}\r\n\r\n\tpublic toRect(): Rect {\r\n\t\tconst w2 = this.width / 2;\r\n\t\tconst h2 = this.height / 2;\r\n\t\treturn new Rect(this.position.x - w2, this.position.y - h2, this.width, this.height);\r\n\t}\r\n}\r\n","import { MouseInputEvent } from '../dto/mouse-input-event';\r\n\r\nexport abstract class AbstractInputAdapter {\r\n\tpublic key: Set<string> = new Set<string>();\r\n\tpublic keyUp: Set<string> = new Set<string>();\r\n\tpublic keyDown: Set<string> = new Set<string>();\r\n\r\n\tpublic mouseUp: Set<MouseInputEvent> = new Set<MouseInputEvent>();\r\n\tpublic mouseDown: Set<MouseInputEvent> = new Set<MouseInputEvent>();\r\n}\r\n","import { AbstractInputAdapter } from './abstract-input-adapter';\r\nimport { MouseButtonType, MouseInputEvent } from '../dto/mouse-input-event';\r\n\r\nexport class WebBrowserInputAdapter extends AbstractInputAdapter {\r\n\r\n\tprivate gameAreaElement: HTMLElement;\r\n\r\n\tconstructor(private document: Document) {\r\n\t\tsuper();\r\n\t\tthis.initEvents();\r\n\t}\r\n\r\n\tpublic frameEnd(): void {\r\n\t\tthis.keyDown.clear();\r\n\t\tthis.keyUp.clear();\r\n\t\tthis.mouseDown.clear();\r\n\t\tthis.mouseUp.clear();\r\n\t}\r\n\r\n\tprivate initEvents(): void {\r\n\t\tthis.document.addEventListener('keydown', (event: KeyboardEvent) => this.onKeyDown(event) );\r\n\t\tthis.document.addEventListener('keyup', (event: KeyboardEvent) => this.onKeyUp(event) );\r\n\t\tthis.gameAreaElement = this.document.getElementById('gameArea');\r\n\t\tthis.gameAreaElement.addEventListener('mousedown', (event: MouseEvent) => this.onMouseDown(event) );\r\n\t\tthis.gameAreaElement.addEventListener('mouseup', (event: MouseEvent) => this.onMouseUp(event) );\r\n\t}\r\n\r\n\tprivate onKeyDown(event: KeyboardEvent): void {\r\n\t\tthis.keyDown.add(event.code);\r\n\t\tthis.key.add(event.code);\r\n\t\tconsole.log(`keyDown ${event.code}`);\r\n\t}\r\n\r\n\tprivate onKeyUp(event: KeyboardEvent): void {\r\n\t\tthis.keyUp.add(event.code);\r\n\t\tthis.key.delete(event.code);\r\n\t\tconsole.log(`keyUp ${event.code}`);\r\n\t}\r\n\r\n\tprivate onMouseDown(event: MouseEvent): void {\r\n\t\tconst buttonType = event.button === 0 ? MouseButtonType.left : (event.button === 1 ? MouseButtonType.middle : MouseButtonType.right);\r\n\t\tconst mouseData = new MouseInputEvent(\r\n\t\t\tbuttonType,\r\n\t\t\tevent.pageX - this.gameAreaElement.offsetLeft, event.pageY - this.gameAreaElement.offsetTop);\r\n\t\tthis.mouseDown.add(mouseData);\r\n\t\tconsole.log(`mouseDown ${buttonType}: ${mouseData.coordinates.x}, ${mouseData.coordinates.y}`);\r\n\t}\r\n\r\n\tprivate onMouseUp(event: MouseEvent): void {\r\n\t\tconst buttonType = event.button === 0 ? MouseButtonType.left : (event.button === 1 ? MouseButtonType.middle : MouseButtonType.right);\r\n\t\tconst mouseData = new MouseInputEvent(\r\n\t\t\tbuttonType,\r\n\t\t\tevent.pageX - this.gameAreaElement.offsetLeft, event.pageY - this.gameAreaElement.offsetTop);\r\n\t\tthis.mouseUp.add(mouseData);\r\n\t\tconsole.log(`mouseUp ${buttonType}: ${mouseData.coordinates.x}, ${mouseData.coordinates.y}`);\r\n\t}\r\n}\r\n","import { Vector2 } from '../../common/vector2';\r\n\r\nexport enum MouseButtonType {\r\n\tleft = 'left',\r\n\tright = 'right',\r\n\tmiddle = 'middle',\r\n}\r\n\r\nexport class MouseInputEvent {\r\n\tpublic button: MouseButtonType;\r\n\tpublic coordinates: Vector2;\r\n\r\n\tconstructor(type: MouseButtonType, x: number, y: number) {\r\n\t\tthis.button = type;\r\n\t\tthis.coordinates = new Vector2(x, y);\r\n\t}\r\n}\r\n","import { IInputAdapter } from './adapters/i-input-adapter';\r\nimport { MouseInputEvent } from './dto/mouse-input-event';\r\n\r\nexport class Input {\r\n\r\n\tprivate static inputAdapters: IInputAdapter[] = [];\r\n\r\n\tpublic static getKey(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.key.has(key));\r\n\t}\r\n\tpublic static getKeyUp(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.keyUp.has(key));\r\n\t}\r\n\tpublic static getKeyDown(key: string): boolean {\r\n\t\treturn Input.some((a: IInputAdapter) => a.keyDown.has(key));\r\n\t}\r\n\r\n\tpublic static getMouseDown(): MouseInputEvent[] {\r\n\t\treturn Input.inputAdapters.reduce((events: MouseInputEvent[], adapter) => {\r\n\t\t\treturn events.concat(Array.from(adapter.mouseDown.values()));\r\n\t\t}, []);\r\n\t}\r\n\r\n\tpublic static getMouseUp(): MouseInputEvent[] {\r\n\t\treturn Input.inputAdapters.reduce((events: MouseInputEvent[], adapter) => {\r\n\t\t\treturn events.concat(Array.from(adapter.mouseUp.values()));\r\n\t\t}, []);\r\n\t}\r\n\r\n\tpublic static setAdapter(inputAdapter: IInputAdapter) {\r\n\t\tInput.inputAdapters.push(inputAdapter);\r\n\t}\r\n\r\n\tpublic static frameEnd(): void {\r\n\t\tInput.inputAdapters.forEach((a) => a.frameEnd());\r\n\t}\r\n\r\n\tprivate static some(predicate: (adapter: IInputAdapter) => boolean): boolean {\r\n\t\treturn Input.inputAdapters.some((a) => predicate(a));\r\n\t}\r\n}\r\n","import { GameObject } from '../game-structure/game-object';\r\n\r\nexport class CollisionsProcessor {\r\n\tpublic static checkCollisions(rootGameObject: GameObject): void { /*\r\n\t\tlet intersectObjects: IntersectObject[] = [];\r\n\t\tfor(let i = 0; i < this.gameObjects.length; i++){\r\n\t\t\tif(this.gameObjects[i] instanceof IntersectObject){\r\n\t\t\t\tintersectObjects.push(this.gameObjects[i] as IntersectObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet result: GameObject[] = [];\r\n\t\tfor(let i = 0; i < intersectObjects.length; i++) {\r\n\t\t\tlet intersectObject = intersectObjects[i];\r\n\t\t\tfor(let t = i + 1; t < intersectObjects.length; t++) {\r\n\t\t\t\tlet intersectObject1 = intersectObjects[t];\r\n\t\t\t\tif(intersectObject.checkCollision === false || intersectObject1.checkCollision === false) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif( intersectObject.intersects(intersectObject1) || intersectObject1.intersects(intersectObject) ) {\r\n\t\t\t\t\tresult.push(intersectObject1);\r\n\t\t\t\t\tresult.push(intersectObject);\r\n\t\t\t\t\tthis.objectsCollide(intersectObject, intersectObject1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor(let i = 0; i < result.length; i++){\r\n\t\t\tGameManager.instance().removeGameObject(result[i]);\r\n\r\n\t\t\tlet animatedObject = new AnimatedObject('./img/explosion-sprite.png', 100, 100, 74, 9, 1000, true, () => {\r\n\t\t\t\tthis.removeGameObject(animatedObject);\r\n\t\t\t});\r\n\t\t\tanimatedObject.transform.left = result[i].transform.left;\r\n\t\t\tanimatedObject.transform.top = result[i].transform.top;\r\n\t\t\tanimatedObject.transform.width = 25;\r\n\t\t\tanimatedObject.transform.height = 25;\r\n\t\t\tthis.addGameObject(animatedObject);\r\n\t\t}\r\n\r\n\t\tthis.restoreAsteroidsAmount(result);\r\n\t\tthis.checkIfCruiserDeleted(result);*/\r\n\t}\r\n}\r\n","export class GameScreen {\r\n\r\n\tprivate static defaultScreen: GameScreen;\r\n\r\n\tpublic width: number;\r\n\tpublic height: number;\r\n\r\n\tpublic static getDefaultScreen(): GameScreen {\r\n\t\tif (GameScreen.defaultScreen == null) {\r\n\t\t\tGameScreen.defaultScreen = new GameScreen();\r\n\t\t}\r\n\t\treturn this.defaultScreen;\r\n\t}\r\n}\r\n","module.exports = \".gameMenuBlock {\\n  position: relative;\\n  width: 150px;\\n  height: 50px;\\n  margin: 120px auto;\\n  z-index: 2;\\n}\\n.gameMenuButton {\\n  width: 150px;\\n  height: 50px;\\n  background-color: green;\\n  color: white;\\n}\\n.gameArea {\\n  border: 0 solid red;\\n  min-width: 400px;\\n  min-height: 400px;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  background-color: #FFF;\\n  overflow: hidden;\\n  background-size: cover;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvYXBwLXJvb3QvQzovVXNlcnMvdml0YWwvLnJvb3QvcHJvamVjdHMvZ2l0aHViL0dpbm5lcjA2L2dhbWVzL1N0YXJTaGlwL3NyYy9hcHAvdWkvYXBwLXJvb3QvYXBwLmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC91aS9hcHAtcm9vdC9hcHAuY29tcG9uZW50Lmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0FDQ0Y7QURFQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0FDQUY7QURHQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsT0FBQTtFQUNBLE1BQUE7RUFDQSxVQUFBO0VBRUEsc0JBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC91aS9hcHAtcm9vdC9hcHAuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ2FtZU1lbnVCbG9jayB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDE1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIG1hcmdpbjogMTIwcHggYXV0bztcbiAgei1pbmRleDogMjtcbn1cblxuLmdhbWVNZW51QnV0dG9uIHtcbiAgd2lkdGg6IDE1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5nYW1lQXJlYSB7XG4gIGJvcmRlcjogMCBzb2xpZCByZWQ7XG4gIG1pbi13aWR0aDogNDAwcHg7XG4gIG1pbi1oZWlnaHQ6IDQwMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgei1pbmRleDogMTtcbiAgLy8gYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi4vLi4vLi4vYXNzZXRzL2ltZy9iYWNrZ3JvdW5kLXNwYWNlLmpwZ1wiKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cbiIsIi5nYW1lTWVudUJsb2NrIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgbWFyZ2luOiAxMjBweCBhdXRvO1xuICB6LWluZGV4OiAyO1xufVxuLmdhbWVNZW51QnV0dG9uIHtcbiAgd2lkdGg6IDE1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICBjb2xvcjogd2hpdGU7XG59XG4uZ2FtZUFyZWEge1xuICBib3JkZXI6IDAgc29saWQgcmVkO1xuICBtaW4td2lkdGg6IDQwMHB4O1xuICBtaW4taGVpZ2h0OiA0MDBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIHotaW5kZXg6IDE7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkY7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG59XG4iXX0= */\"","import { Component, HostListener, Inject, Injectable, OnInit } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { Input } from '../../business/input/input';\nimport { WebBrowserInputAdapter } from '../../business/input/adapters/web-browser-input-adapter';\nimport { GameScreen } from '../../business/screen/game-screen';\nimport { GameManager } from '../../business/game-manager';\nimport { RestClient } from '../../business/core/http/rest-client';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n\tselector: 'app-root',\n\ttemplateUrl: './app.component.html',\n\tstyleUrls: ['./app.component.less']\n})\n@Injectable()\nexport class AppComponent implements OnInit {\n\n\twidth = '100px';\n\theight = '100px';\n\n\tconstructor(@Inject(DOCUMENT) private document: Document, private http: HttpClient) {\n\t}\n\n\t@HostListener('window:resize', [])\n\tonResize() {\n\t\tconst margin = 0;\n\n\t\tconst screen = GameScreen.getDefaultScreen();\n\t\tscreen.width = window.innerWidth - margin;\n\t\tscreen.height = window.innerHeight - margin;\n\n\t\tthis.width = `${window.innerWidth - margin}px`;\n\t\tthis.height = `${window.innerHeight - margin}px`;\n\t}\n\n\tngOnInit() {\n\t\tsetTimeout(() => {\n\t\t\tthis.onResize();\n\t\t}, 0);\n\t\tInput.setAdapter(new WebBrowserInputAdapter(this.document));\n\t\tRestClient.httpClient = this.http;\n\t\tsetTimeout(() => {\n\t\t\tGameManager.instance().load();\n\t\t}, 10);\n\t}\n}\n","module.exports = \".game-object {\\n  position: absolute;\\n  background-size: cover;\\n  -webkit-transform: rotate(0);\\n          transform: rotate(0);\\n  box-sizing: border-box;\\n}\\n.star-ship {\\n  background-image: url('cruiser.png');\\n}\\n.bullet {\\n  background-image: url('bullet.png');\\n}\\n.asteroid {\\n  background-image: url('asteroid-icon-v2.png');\\n}\\n.half-transparent {\\n  opacity: 0.5;\\n}\\n.score-indicator {\\n  color: red;\\n  font-weight: bold;\\n  font-size: 21px;\\n}\\n.lives-indicator {\\n  position: relative;\\n}\\n.lives-indicator-element {\\n  position: absolute;\\n  background-size: cover;\\n  -webkit-transform: rotate(-90deg);\\n          transform: rotate(-90deg);\\n  background-image: url('cruiser.png');\\n  width: 25px;\\n  height: 25px;\\n  top: 0;\\n  left: 0;\\n}\\n.game-over-text {\\n  color: red;\\n  font-weight: bold;\\n  font-size: 100px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvaHRtbC1yZW5kZXJlci9nYW1lLW9iamVjdC9DOi9Vc2Vycy92aXRhbC8ucm9vdC9wcm9qZWN0cy9naXRodWIvR2lubmVyMDYvZ2FtZXMvU3RhclNoaXAvc3JjL2FwcC91aS9odG1sLXJlbmRlcmVyL2dhbWUtb2JqZWN0L2dhbWUtb2JqZWN0LmNvbXBvbmVudC5sZXNzIiwic3JjL2FwcC91aS9odG1sLXJlbmRlcmVyL2dhbWUtb2JqZWN0L2dhbWUtb2JqZWN0LmNvbXBvbmVudC5sZXNzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Msa0JBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO1VBQUEsb0JBQUE7RUFDQSxzQkFBQTtBQ0NEO0FERUE7RUFDQyxvQ0FBQTtBQ0FEO0FER0E7RUFDQyxtQ0FBQTtBQ0REO0FESUE7RUFDQyw2Q0FBQTtBQ0ZEO0FES0E7RUFDQyxZQUFBO0FDSEQ7QURNQTtFQUNDLFVBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNKRDtBRE9BO0VBQ0Msa0JBQUE7QUNMRDtBRFFBO0VBQ0Msa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGlDQUFBO1VBQUEseUJBQUE7RUFDQSxvQ0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7QUNORDtBRFNBO0VBQ0MsVUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUNQRCIsImZpbGUiOiJzcmMvYXBwL3VpL2h0bWwtcmVuZGVyZXIvZ2FtZS1vYmplY3QvZ2FtZS1vYmplY3QuY29tcG9uZW50Lmxlc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ2FtZS1vYmplY3Qge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG5cdHRyYW5zZm9ybTogcm90YXRlKDApO1xuXHRib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuXG4uc3Rhci1zaGlwIHtcblx0YmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi9pbWcvY3J1aXNlci5wbmdcIik7XG59XG5cbi5idWxsZXQge1xuXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9idWxsZXQucG5nXCIpO1xufVxuXG4uYXN0ZXJvaWQge1xuXHRiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9hc3Rlcm9pZC1pY29uLXYyLnBuZ1wiKTtcbn1cblxuLmhhbGYtdHJhbnNwYXJlbnQge1xuXHRvcGFjaXR5OiAwLjU7XG59XG5cbi5zY29yZS1pbmRpY2F0b3Ige1xuXHRjb2xvcjogcmVkO1xuXHRmb250LXdlaWdodDogYm9sZDtcblx0Zm9udC1zaXplOiAyMXB4O1xufVxuXG4ubGl2ZXMtaW5kaWNhdG9yIHtcblx0cG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4ubGl2ZXMtaW5kaWNhdG9yLWVsZW1lbnQge1xuXHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG5cdHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XG5cdGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4vaW1nL2NydWlzZXIucG5nXCIpO1xuXHR3aWR0aDogMjVweDtcblx0aGVpZ2h0OiAyNXB4O1xuXHR0b3A6IDA7XG5cdGxlZnQ6IDA7XG59XG5cbi5nYW1lLW92ZXItdGV4dCB7XG5cdGNvbG9yOiByZWQ7XG5cdGZvbnQtd2VpZ2h0OiBib2xkO1xuXHRmb250LXNpemU6IDEwMHB4O1xufVxuXG5cblxuIiwiLmdhbWUtb2JqZWN0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgwKTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cbi5zdGFyLXNoaXAge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9jcnVpc2VyLnBuZ1wiKTtcbn1cbi5idWxsZXQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuL2ltZy9idWxsZXQucG5nXCIpO1xufVxuLmFzdGVyb2lkIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi9pbWcvYXN0ZXJvaWQtaWNvbi12Mi5wbmdcIik7XG59XG4uaGFsZi10cmFuc3BhcmVudCB7XG4gIG9wYWNpdHk6IDAuNTtcbn1cbi5zY29yZS1pbmRpY2F0b3Ige1xuICBjb2xvcjogcmVkO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAyMXB4O1xufVxuLmxpdmVzLWluZGljYXRvciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5saXZlcy1pbmRpY2F0b3ItZWxlbWVudCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTkwZGVnKTtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLi9pbWcvY3J1aXNlci5wbmdcIik7XG4gIHdpZHRoOiAyNXB4O1xuICBoZWlnaHQ6IDI1cHg7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbn1cbi5nYW1lLW92ZXItdGV4dCB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDEwMHB4O1xufVxuIl19 */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { GameObjectRenderInfo } from '../../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { split } from 'ts-node';\n\n@Component({\n\tselector: 'app-game-object',\n\ttemplateUrl: './game-object.component.html',\n\tstyleUrls: ['./game-object.component.less']\n})\nexport class GameObjectComponent implements OnInit {\n\n\t@Input()\n\tgameObjectRenderInfo: GameObjectRenderInfo;\n\n\tconstructor() {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tgetStyle(): any {\n\t\treturn Object.assign({\n\t\t\twidth: this.gameObjectRenderInfo.width + 'px',\n\t\t\theight: this.gameObjectRenderInfo.height + 'px',\n\t\t\tleft: this.gameObjectRenderInfo.left + 'px',\n\t\t\ttop: this.gameObjectRenderInfo.top + 'px',\n\t\t\ttransform: `rotate(${this.gameObjectRenderInfo.rotation}deg)`,\n\t\t\t'background-image': this.gameObjectRenderInfo.backgroundImage\n\t\t}, this.createCssObject(this.gameObjectRenderInfo.cssStyle));\n\t}\n\n\tprivate createCssObject(cssString: string): any {\n\t\tconst retObj = {};\n\t\tif (cssString == null) {\n\t\t\treturn retObj;\n\t\t}\n\t\tconst styles = cssString.split(';');\n\t\tstyles.forEach((style) => {\n\t\t\tif (style == null || style.indexOf(':') === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst stylePair = style.split(':');\n\t\t\tretObj[stylePair[0].trim()] = stylePair[1].trim();\n\t\t});\n\t\treturn retObj;\n\t}\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2h0bWwtcmVuZGVyZXIvaHRtbC1yZW5kZXJlci5jb21wb25lbnQubGVzcyJ9 */\"","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { GameObjectRenderInfo } from '../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { Subscription } from 'rxjs';\nimport { HtmlRendererService } from './html-renderer.service';\nimport { GameManager } from '../../business/game-manager';\n\n@Component({\n  selector: 'app-html-renderer',\n  templateUrl: './html-renderer.component.html',\n  styleUrls: ['./html-renderer.component.less']\n})\nexport class HtmlRendererComponent implements OnInit {\n\n\tgameObjectsRenderInfos: GameObjectRenderInfo[] = [];\n\n\tprivate subscription: Subscription = null;\n\n\tconstructor(private htmlRendererService: HtmlRendererService, private changeDetectorRef: ChangeDetectorRef) {\n\t}\n\n\tngOnInit() {\n\t\tthis.subscribeToGameObjects();\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.subscription.unsubscribe();\n\t}\n\n\tprivate subscribeToGameObjects(): void {\n\t\tthis.subscription = this.htmlRendererService.getGameObjectsRenderInfos().subscribe(gameObjectsRenderInfos => {\n\t\t\tthis.gameObjectsRenderInfos = gameObjectsRenderInfos;\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\t}\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subject, Subscription } from 'rxjs';\nimport { GameObjectRenderInfo } from '../../business/game-components/core/html-renderer-game-component/game-object-render-info';\nimport { GameScene } from '../../business/game-structure/game-scene';\nimport { HtmlRendererGameComponent } from '../../business/game-components/core/html-renderer-game-component/html-renderer-game-component';\nimport { EventMessage, EventMessageType } from '../../business/events/event-message';\nimport { GameObject } from '../../business/game-structure/game-object';\nimport { GameEventManager } from '../../business/game-event-manager';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class HtmlRendererService implements OnDestroy {\n\tprivate subject = new BehaviorSubject<GameObjectRenderInfo[]>([]);\n\tprivate gameCalculatedSubscription: Subscription;\n\n\tconstructor() {\n\t\tGameEventManager.events().subscribe((eventMessage) => {\n\t\t\tthis.processEvent(eventMessage);\n\t\t});\n\t}\n\n\tngOnDestroy(): void {\n\t\tthis.gameCalculatedSubscription.unsubscribe();\n\t\tthis.subject.complete();\n\t}\n\n\tpublic getGameObjectsRenderInfos(): Subject<GameObjectRenderInfo[]> {\n\t\treturn this.subject;\n\t}\n\n\tprivate render(gameScene: GameScene): void {\n\n\t\tconst allObjects = this.getAllGameObjects(gameScene.rootGameObject.children);\n\n\t\tconst renderInfos = allObjects.reduce((infos, go) => {\n\t\t\tconst renderer = go.getComponent('HtmlRendererGameComponent') as HtmlRendererGameComponent;\n\t\t\tif (renderer != null) {\n\t\t\t\tinfos.push(renderer.renderInfo);\n\t\t\t}\n\t\t\treturn infos;\n\t\t}, []);\n\t\tthis.subject.next(renderInfos);\n\t}\n\n\tprivate getAllGameObjects(gameObjects: GameObject[]): GameObject[] {\n\t\tlet res = [];\n\t\tgameObjects.forEach((go) => {\n\t\t\tif (!go.active) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tres.push(go);\n\t\t\tconst children = this.getAllGameObjects(go.children);\n\t\t\tres = res.concat(children);\n\t\t});\n\t\treturn res;\n\t}\n\n\tprivate processEvent(eventMessage: EventMessage): void {\n\t\tswitch (eventMessage.type) {\n\t\t\tcase EventMessageType.GameUpdate:\n\t\t\t\tthis.render(eventMessage.data as GameScene);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t}\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}